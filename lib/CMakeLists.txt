INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/externals/tinyxml/)

FILE(GLOB_RECURSE hdrs "*.h")
FILE(GLOB_RECURSE srcs "*.cpp")

ADD_LIBRARY(${PROJECT_NAME} ${srcs} ${hdrs})

SET_TARGET_PROPERTIES(${PROJECT_NAME} PROPERTIES
   DEFINE_SYMBOL catecCPP_EXPORTS
   VERSION ${VERSION}
   SOVERSION ${SOVERSION}
   CLEAN_DIRECT_OUTPUT 1
   OUTPUT_NAME "${PROJECT_NAME}${DLLVERSION}")

INSTALL(TARGETS ${PROJECT_NAME}
   RUNTIME DESTINATION bin COMPONENT main
   LIBRARY DESTINATION lib PERMISSIONS OWNER_READ OWNER_WRITE
      OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE COMPONENT main
   ARCHIVE DESTINATION lib COMPONENT main)

INSTALL(FILES ${hdrs}
   DESTINATION include/${PROJECT_NAME}/${LIB}
   COMPONENT main)
